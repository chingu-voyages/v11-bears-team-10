(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{127:function(e,t){e.exports="data:image/png;base64,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"},130:function(e){e.exports=JSON.parse('{"400":"Bad Request","401":"Unauthorized","403":"Forbidden","404":"Not Found","500":"Internal Server Error","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout"}')},132:function(e,t,a){e.exports=a(219)},157:function(e,t,a){},190:function(e,t){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a(0),c=a.n(n),o=a(14),s=a(9),l=a(43),i=a(118),u=a(119),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.authToken;case"RESET_USER":return null;default:return e}},d=a(18);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={authToken:m,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MESSAGES_LIST":return p({},e,{messages:p({},t.messages)});case"SET_CHAT_USERS":return p({},e,{userList:Object(d.a)(t.userList)});case"UPDATE_MESSAGES_COUNTER":return p({},e,{newMessagesCounter:p({},e.newMessagesCounter,{},t.updateCounter)});case"IS_TYPING":return p({},e,{isTyping:t.isTyping});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;case"RESET_ERROR":return null;default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECT":case"SET_PROJECT":case"UPDATE_PROJECT":case"DELETE_PROJECT":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"RESET_USER":return null;case"FETCH_USER":return t.payload;case"UPDATE_USER":return E({},e,{},t.payload);default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return t.payload;default:return e}}};function b(e){var t=Object(l.applyMiddleware)(i.a),a=Object(u.composeWithDevTools)(t);return Object(l.createStore)(Object(l.combineReducers)(f),e,a)}var h=a(120),v=a.n(h),j=a(10),y=a.n(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(157);var O=a(55),C=a(16);O.b.add(C.c,C.i,C.o,C.e,C.q,C.b,C.k,C.d,C.l,C.m,C.g,C.f,C.p,C.a,C.h,C.n,C.j);var T=a(11),N=a(41);function S(){return{type:"RESET_ERROR"}}function I(e){return e.redirectIf?c.a.createElement(N.a,{to:e.redirectTo}):c.a.createElement(N.b,e)}var w=a(22),k=a(23),M=a(29),x=a(27),P=a(60),_=a(28),D=a(229),L=a(231),q=a(61),R=a(6),U=a(222),K=a(230),X=function(){return{type:"RESET_USER"}},V=function(){return function(e){e(X()),localStorage.removeItem("authToken"),localStorage.removeItem("user_id"),delete y.a.defaults.headers.common.Authorization}},B=a(121);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=a.n(B)()("https://v11-bears-team-10.herokuapp.com");function J(e){return function(t){t({type:"UPDATE_MESSAGES_COUNTER",updateCounter:Object(r.a)({},e,0)})}}function W(e){H.emit("isTyping",e)}function G(e){var t=e.src,a=e.username,r=e.className,o=Object(n.useState)(!1),s=Object(R.a)(o,2),l=s[0],i=s[1];if(!l&&t){var u=new Image;u.onload=function(){return i(!0)},u.src=t}var m=r?" "+r:"";return l?c.a.createElement("img",{src:t,alt:a,className:"avatar"+m}):c.a.createElement("div",{className:"avatar avatar-placeholder"+m},a.substring(0,2))}var Q=a(50);var Y=Object(s.b)(null,{logout:V})((function(e){var t=e.user,a=e.logout,r=Object(n.useState)(!1),o=Object(R.a)(r,2),s=o[0],l=o[1];return c.a.createElement(L.a,{className:"ml-md-auto mt-2 mt-md-0 mr-md-2"},s&&c.a.createElement(U.a,{className:"my-auto","aria-hidden":"true",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Logging out ...")),c.a.createElement(T.b,{to:"/dashboard",role:"image",className:"link-no-styles"},c.a.createElement(G,{username:t.username,className:"mx-auto mx-md-2"})),c.a.createElement(K.a,{alignRight:!0,title:t.username,id:"basic-nav-dropdown"},c.a.createElement(K.a.Item,{as:T.b,role:"button",to:"/dashboard"},"my dashboard"),c.a.createElement(K.a.Divider,null),c.a.createElement(K.a.Item,{onClick:function(){l(!0),H.close(),a()}},c.a.createElement(Q.a,{icon:"sign-out-alt",className:"mr-2"}),"logout")))})),Z=function(e){function t(){return Object(w.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"ml-md-auto"},c.a.createElement(T.b,{to:"/register",className:"btn btn-dark-purple b mx-2",id:"login"},"register"),c.a.createElement(T.b,{to:"/login",className:"btn btn-dark-green mx-2",id:"register"},"login"))}}]),t}(n.Component),$=a(127),ee=a.n($),te=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).getHandleScrollFunc=function(){var e=window.scrollY,t=!1,r=Object(P.a)(a);return function(a){e=window.scrollY,t||(window.requestAnimationFrame((function(){r.onScrollTick(e),t=!1})),t=!0)}},a.handleScroll=a.getHandleScrollFunc(),a.onScrollTick=function(e){if(!e&&a.state.withBg)return a.setState({withBg:!1});a.state.withBg||a.setState({withBg:!0})},a.onToggle=function(e){return a.setState({expanded:e})},a.shrink=function(){return a.state.expanded&&a.onToggle(!1)},a.state={withBg:!!window.scrollY,expanded:!1},a}return Object(_.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.shrink)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.shrink)}},{key:"render",value:function(){return c.a.createElement(D.a,{className:"flex-column flex-md-row text-center bg-white border-bottom",onToggle:this.onToggle,expand:"md",expanded:this.state.expanded,sticky:"top"},c.a.createElement("div",{className:"d-flex flex-nowrap w-sm-down-100"},c.a.createElement(T.b,{to:"/"},c.a.createElement(D.a.Brand,{className:"mr-auto"},c.a.createElement("img",{alt:"brand",src:ee.a,width:"40",height:"40"}))),c.a.createElement(D.a.Toggle,{"aria-controls":"navbar-nav-collapse",className:"ml-auto mr-2"})),c.a.createElement(D.a.Collapse,{id:"navbar-nav-collapse"},c.a.createElement(L.a,{as:"ul",className:"pl-md-2"},c.a.createElement(q.a,{as:"li",className:"ml-md-2 my-md-0 my-2",onClick:this.shrink},c.a.createElement(T.c,{to:"/dashboard",className:"nav-link"},"Dashboard")),c.a.createElement(q.a,{as:"li",className:"ml-md-2 my-md-0 my-2",onClick:this.shrink},c.a.createElement(T.c,{to:"/chat",className:"nav-link"},"Chat with your colleagues"))),this.props.user?c.a.createElement(Y,{user:this.props.user}):c.a.createElement(Z,null)))}}]),t}(n.Component);function ae(){return c.a.createElement("main",{"data-aos":"zoom-in",className:"hero-message mt-5 ml-md-5 ml-auto mb-auto mr-auto text-center"},c.a.createElement("h1",null,"my project"),c.a.createElement("small",{className:"text-muted"},"manage projects better"))}var re=a(223),ne=a(224),ce=a(128),oe=a(226),se=a(225),le=a(126),ie={min:function(e,t,a){if(a=parseInt(a))return t.length>=a||"must have at least ".concat(a," characters");throw Error("the min rule parameter must be a string representing a number")},max:function(e,t,a){if(a=parseInt(a))return t.length<=a||"must have ".concat(a," characters maximum");throw Error("the max rule parameter must be a string representing a number")},alphanumeric:function(e,t){return/^[a-z0-9]+$/i.test(t)||"must contain only alphanumeric characters"},email:function(e,t){return/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(t)||"".concat(e," is invalid")},required:function(e,t){return!!t||"".concat(e," is required")}},ue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage";try{e=window[t];var a="__storage_test__";return e.setItem(a,a),e.removeItem(a),!0}catch(r){return r instanceof DOMException&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&e&&0!==e.length}}();function me(e){if(!Array.isArray(e)||!e.length)return!1;var t=!0,a=!1,r=void 0;try{for(var n,c=e[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){n.value;0}}catch(o){a=!0,r=o}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}return!0}var de=function(){function e(t,a){for(var r in Object(w.a)(this,e),this.ruleName_param_delimiter=":",t)if("string"===(t[r],!1))throw Error("".concat(r,"'s value must be a string"));for(var n in a)if("string"!==typeof a[n]){if(!me(a[n]))throw Error("".concat(n,"'s rule must be a string or an array of strings"));var c=!0,o=!1,s=void 0;try{for(var l,i=a[n][Symbol.iterator]();!(c=(l=i.next()).done);c=!0){var u=l.value;this.checkRuleName(u)}}catch(m){o=!0,s=m}finally{try{c||null==i.return||i.return()}finally{if(o)throw s}}}else this.checkRuleName(a[n]);this.data=t,this.attributes_rules=a}return Object(k.a)(e,[{key:"checkRuleName",value:function(e){var t=e.split(this.ruleName_param_delimiter)[0];if("function"===(ie[t],!1))throw Error("".concat(t," doesn't exist or its callback is not a function"))}},{key:"validateWithRule",value:function(e,t){var a=t.split(this.ruleName_param_delimiter),r=Object(R.a)(a,2),n=r[0],c=r[1],o=ie[n](e,this.data[e],c);if(!0===o)return!0;if("string"===typeof o||me(o))return this.addErrors(o,e),o;throw Error("".concat(n,"'s callback must return true if the validation passes, a string or an array of strings representing error messages"))}},{key:"addErrors",value:function(e,t){var a;this.errors||(this.errors={}),this.errors[t]||(this.errors[t]=[]),"string"!==typeof e||this.errors[t].includes(e)||this.errors[t].push(e),Array.isArray(e)&&(this.errors[t].includes(e)||(a=this.errors[t]).push.apply(a,Object(d.a)(e)))}},{key:"addValidated",value:function(e){this.validated||(this.validated={}),this.validated[e]=this.data[e]}},{key:"validate",value:function(){for(var e in this.data)if(this.attributes_rules[e]){if("string"===typeof this.attributes_rules[e])this.validateWithRule(e,this.attributes_rules[e]);else{var t=!0,a=!1,r=void 0;try{for(var n,c=this.attributes_rules[e][Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var o=n.value;this.validateWithRule(e,o)}}catch(s){a=!0,r=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}}this.errors&&!this.errors[e]&&this.addValidated(e)}}},{key:"passes",get:function(){return!this.errors}}]),e}();function Ae(e,t){return{type:"SET_USER",user:e,authToken:t}}function pe(){return{type:"SET_ERROR",error:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).invalidate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.setState((function(t){return{submitting:!1,errors:Ee({},t.errors,{},e)}}))},a.invalidCredentials=function(){return a.setState({submitting:!1,message:"invalid credentials"})},a.onSubmit=function(){return a.setState({submitting:!0,message:null},(function(){return a.props.login(a.state.data,a.invalidate,a.invalidCredentials)}))},a.onChange=function(e){var t=e.target,n=t.id,c=t.value;return a.setState((function(e){return{data:Ee({},e.data,Object(r.a)({},n,c)),errors:Ee({},e.errors,Object(r.a)({},n,[]))}}))},a.onKeyDown=function(e){return 13===e.keyCode&&a.onSubmit()},a.state={submitting:!1,message:null,data:{username:"",password:""},errors:{username:[],password:[]}},a}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement(re.a,{as:"main",className:"my-auto"},c.a.createElement(ne.a,null,c.a.createElement(ce.a,{md:8,xs:12,className:"mx-auto pt-5",as:oe.a,onKeyDown:this.onKeyDown,"data-aos":"zoom-in"},c.a.createElement("div",{className:"mb-5 text-center"},c.a.createElement("h3",null,"login to your ","my project"," account")),this.state.message&&c.a.createElement(ne.a,{className:"mb-5"},c.a.createElement(ce.a,{xs:12,sm:9,lg:6,className:"mx-auto"},c.a.createElement(se.a,{className:"text-center my-0",variant:"danger"},this.state.message))),c.a.createElement(ne.a,{as:oe.a.Group,controlId:"username",className:"mb-4"},c.a.createElement(oe.a.Label,{column:!0,xs:12,sm:3,className:"required"},"Username"),c.a.createElement(ce.a,{xs:12,sm:9,lg:6},c.a.createElement(oe.a.Control,{isInvalid:!!this.state.errors.username.length,onChange:this.onChange,value:this.state.data.username,placeholder:"username"}),c.a.createElement(oe.a.Control.Feedback,{as:"ul",type:"invalid"},this.state.errors.username.map((function(e){return c.a.createElement("li",{key:e},e)}))))),c.a.createElement(ne.a,{as:oe.a.Group,controlId:"password",className:"mb-4"},c.a.createElement(oe.a.Label,{column:!0,xs:12,sm:3,className:"required"},"Password"),c.a.createElement(ce.a,{xs:12,sm:9,lg:6},c.a.createElement(oe.a.Control,{isInvalid:!!this.state.errors.password.length,onChange:this.onChange,value:this.state.data.password,type:"password",placeholder:"password"}),c.a.createElement(oe.a.Control.Feedback,{as:"ul",type:"invalid"},this.state.errors.password.map((function(e){return c.a.createElement("li",{key:e},e)}))))),c.a.createElement(ne.a,{className:"mb-5"},c.a.createElement(le.a,{variant:"dark-purple",className:"mx-auto",onClick:this.onSubmit,disabled:this.state.submitting},this.state.submitting?c.a.createElement(U.a,{className:"mx-2",as:"span","aria-hidden":"true",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Logging in ...")):"login")),c.a.createElement("div",{className:"mb-5 text-center"},"New to ","my project"," ?",c.a.createElement(T.b,{to:"/register"}," Create an account")))))}}]),t}(c.a.Component),be=Object(s.b)(null,{login:function(e,t,a){return function(r){var n=new de(e,{username:"required",password:"required"});if(n.validate(),!n.passes)return t(n.errors);y.a.post("/login",e).then((function(e){r(Ae(e.data.user,e.data.token)),localStorage.setItem("authToken",e.data.token),localStorage.setItem("user_id",e.data.user._id),y.a.defaults.headers.common.Authorization="Bearer "+e.data.token})).catch((function(e){return e.response?401===e.response.status||422===e.response.status?a():(r(pe({statusCode:e.response.status})),void t()):r(pe({requestTimeout:"ECONNABORTED"===e.code}))}))}}})(fe);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.id,c=t.value;return a.setState((function(e){return{data:ve({},e.data,Object(r.a)({},n,c)),errors:ve({},e.errors,Object(r.a)({},n,[]))}}))},a.invalidate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.setState((function(t){return{submitting:!1,errors:ve({},t.errors,{},e)}}))},a.onSubmit=function(){return a.setState({submitting:!0},(function(){return a.props.register(a.state.data,a.invalidate)}))},a.onKeyDown=function(e){return 13===e.keyCode&&a.onSubmit()},a.state={submitting:!1,data:{username:"",email:"",password:""},errors:{username:[],email:[],password:[]}},a}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement(re.a,{as:"main",className:"my-auto"},c.a.createElement(ne.a,null,c.a.createElement(ce.a,{lg:8,xs:12,className:"mx-auto pt-5",as:oe.a,onKeyDown:this.onKeyDown,"data-aos":"zoom-in"},c.a.createElement("div",{className:"mb-5 text-center"},c.a.createElement("small",{className:"text-muted"},"join ","my project"),c.a.createElement("h3",null,"Create your account")),c.a.createElement(ne.a,{as:oe.a.Group,controlId:"username",className:"mb-4"},c.a.createElement(oe.a.Label,{column:!0,xs:12,sm:3,className:"required"},"Username"),c.a.createElement(ce.a,{xs:12,sm:9,lg:6},c.a.createElement(oe.a.Control,{isInvalid:!!this.state.errors.username.length,onChange:this.onChange,value:this.state.data.username,placeholder:"username"}),c.a.createElement("small",{className:"text-muted"},"Make sure it has min 4 characters, and it's alphanumeric"),c.a.createElement(oe.a.Control.Feedback,{as:"ul",type:"invalid"},this.state.errors.username.map((function(e){return c.a.createElement("li",{key:e},e)}))))),c.a.createElement(ne.a,{as:oe.a.Group,controlId:"email",className:"mb-4"},c.a.createElement(oe.a.Label,{column:!0,xs:12,sm:3,className:"required"},"Email"),c.a.createElement(ce.a,{xs:12,sm:9,lg:6},c.a.createElement(oe.a.Control,{isInvalid:!!this.state.errors.email.length,onChange:this.onChange,value:this.state.data.email,type:"email",placeholder:"email address"}),c.a.createElement(oe.a.Control.Feedback,{as:"ul",type:"invalid"},this.state.errors.email.map((function(e){return c.a.createElement("li",{key:e},e)}))))),c.a.createElement(ne.a,{as:oe.a.Group,controlId:"password",className:"mb-4"},c.a.createElement(oe.a.Label,{column:!0,xs:12,sm:3,className:"required"},"Password"),c.a.createElement(ce.a,{xs:12,sm:9,lg:6},c.a.createElement(oe.a.Control,{isInvalid:!!this.state.errors.password.length,onChange:this.onChange,value:this.state.data.password,type:"password",placeholder:"password"}),c.a.createElement("small",{className:"text-muted"},"Make sure it has min 8 characters, including at least one number, special character ,lowercase and uppercase letter."),c.a.createElement(oe.a.Control.Feedback,{as:"ul",type:"invalid"},this.state.errors.password.map((function(e){return c.a.createElement("li",{key:e},e)}))))),c.a.createElement(ne.a,{className:"mb-5"},c.a.createElement(le.a,{disabled:this.state.submitting,variant:"dark-purple",className:"mx-auto",onClick:this.onSubmit},this.state.submitting?c.a.createElement(U.a,{className:"mx-2",as:"span","aria-hidden":"true",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Submitting ...")):"submit")),c.a.createElement("div",{className:"mb-5 text-center"},"already have a ","my project"," account ?",c.a.createElement(T.b,{to:"/login"}," Login")))))}}]),t}(n.Component),ye=Object(s.b)(null,{register:function(e,t){return function(a){var r=new de(e,{username:"required",password:"required",email:"required"});if(r.validate(),!r.passes)return t(r.errors);y.a.post("/register",e).then((function(e){return a(Ae(e.data.user,e.data.token))})).catch((function(e){if(!e.response)return a(pe({requestTimeout:"ECONNABORTED"===e.code}));if(401===e.response.status)for(var n=0,c=[/username/i,/email/i,/password/i];n<c.length;n++){var o=c[n],s=e.response.data.error.match(o);if(s){r.addErrors("already used",s[0].toLowerCase());break}}else 422===e.response.status?e.response.data.errors.forEach((function(e){return r.addErrors(e.msg,e.param)})):a(pe({statusCode:e.response.status}));t(r.errors)}))}}})(je);var Oe=function(){return c.a.createElement("footer",{className:"text-center p-4"},"Built by developers at ",c.a.createElement("a",{href:"https://chingu.io/"},"chingu.io"))};function Ce(e){return c.a.createElement(re.a,{as:"main",id:"dashboard",className:"my-3 my-md-4 py-3 bottom-shadow dark-transparent-container"},e.children)}var Te=function(e,t){return t.completed?e+1:e},Ne=function(e){var t=e.projectList;return c.a.createElement("section",{id:"projects-summary",className:"bg-white p-3 mb-3 rounded bottom-shadow","data-aos":"fade-up"},c.a.createElement("h1",{className:"section-title"},"Summary"),c.a.createElement("hr",{className:"w-100"}),c.a.createElement(ne.a,{noGutters:!0},c.a.createElement(ce.a,{xs:12,sm:6,className:"px-2"},c.a.createElement("h2",{className:"p-2 rounded"},t.length,c.a.createElement("span",{className:"mt-2 d-block"},"Projects"))),c.a.createElement(ce.a,{xs:12,sm:6,className:"px-2"},c.a.createElement("h2",{className:"p-2 rounded"},t.reduce(Te,0),c.a.createElement("span",{className:"mt-2 d-block"},"Finished Projects")))))},Se=a(131);function Ie(e){var t=e._id,a=Object(Se.a)(e,["_id"]);return function(e,r){y.a.put("/project/".concat(t),a,{headers:{Authorization:"Bearer "+r().authToken}}).then((function(t){e({type:"UPDATE_PROJECT",payload:t.data.project}),e({type:"UPDATE_USER",payload:{projectList:t.data.projectList}})})).catch((function(t){t.response?401!==t.response.status&&e(pe({statusCode:t.response.status})):e(pe({requestTimeout:"ECONNABORTED"===t.code}))}))}}var we=Object(s.b)(null,(function(e){return{getProject:function(t){return e(function(e){return function(t,a){t({type:"SET_PROJECT",payload:null}),y.a.get("/project/".concat(e),{headers:{Authorization:"Bearer "+a().authToken}}).then((function(e){t({type:"SET_PROJECT",payload:e.data.project})})).catch((function(e){console.log("error =",e),e.response?401!==e.response.status&&t(pe({statusCode:e.response.status})):t(pe({requestTimeout:"ECONNABORTED"===e.code}))}))}}(t))},fetchUsers:function(){return e((function(e,t){y.a.get("/users",{headers:{Authorization:"Bearer "+t().authToken}}).then((function(t){e({type:"SET_USERS",payload:t.data.users})})).catch((function(t){t.response?401!==t.response.status&&e(pe({statusCode:t.response.status})):e(pe({requestTimeout:"ECONNABORTED"===t.code}))}))}))}}}))(Object(N.g)((function(e){var t=e.project,a=e.history,r=e.getProject,n=e.fetchUsers;return c.a.createElement("div",{className:"project-card border border-secondary rounded bottom-shadow-on-hover p-3",onClick:function(){r(t._id),n(),a.push("/project/".concat(t._id))},"data-aos":"fade-down"},c.a.createElement("h2",{className:"text-center text-truncate mb-4"},t.title),c.a.createElement(ne.a,{noGutters:!0},t.completed&&c.a.createElement("span",null,"Completed"),c.a.createElement("i",{className:"ml-auto mr-3"},c.a.createElement(Q.a,{icon:"users",id:"team-members"}),c.a.createElement("span",null,t.nb_member)),c.a.createElement("i",{className:"ml-0 mr-3"},c.a.createElement(Q.a,{icon:"comments",id:"messages"}),c.a.createElement("span",null,t.nb_msg)),c.a.createElement("i",{className:"ml-0 mr-3"},c.a.createElement(Q.a,{icon:"clipboard-list",id:"todos"}),c.a.createElement("span",null,t.nb_todos))))}))),ke=a(228);var Me=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a){new de(e,{title:"min:1"}).validate(),y.a.post("/project/".concat(e.admin),e,{headers:{Authorization:"Bearer "+a().authToken}}).then((function(e){t({type:"ADD_PROJECT",payload:e.data.project}),t({type:"UPDATE_USER",payload:{projectList:e.data.projectList}})})).catch((function(e){e.response?401!==e.response.status&&t(pe({statusCode:e.response.status})):t(pe({requestTimeout:"ECONNABORTED"===e.code}))}))}}(t))}}}))((function(e){var t=e.showForm,a=e.handleCloseForm,r=e.user,o=e.createProject,s=Object(n.useState)(""),l=Object(R.a)(s,2),i=l[0],u=l[1],m=Object(n.useState)(""),d=Object(R.a)(m,2),A=d[0],p=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ke.a,{show:t,onHide:a,className:"project-form"},c.a.createElement(ke.a.Header,{closeButton:!0,className:"project-header"},c.a.createElement(ke.a.Title,{id:"project-title"},"Start A Project")),c.a.createElement(oe.a,{onSubmit:function(e){e.preventDefault();var t={admin:r._id,title:i,description:A,team:[{_id:r._id,username:r.username}]};o(t),u(""),p(""),a()}},c.a.createElement(ke.a.Body,null,c.a.createElement(oe.a.Group,{controlId:"projectName"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Project Name"),c.a.createElement(oe.a.Control,{className:"form-field",type:"text",placeholder:"Name Your Project",value:i,onChange:function(e){return u(e.target.value)},required:!0})),c.a.createElement(oe.a.Group,{controlId:"textArea",className:"forms"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Project Description"),c.a.createElement(oe.a.Control,{as:"textarea",className:"form-field",placeholder:"Add a project description",rows:"3",value:A,required:!0,onChange:function(e){return p(e.target.value)}}))),c.a.createElement(ke.a.Footer,null,c.a.createElement(le.a,{variant:"secondary",onClick:function(){u(""),p(""),a()},id:"close",className:"hvr-shadow"},"Close"),c.a.createElement(le.a,{variant:"primary",id:"save",type:"submit",className:"hvr-shadow"},"Save")))))}));function xe(e){var t=e.projectList,a=Object(n.useState)(!1),r=Object(R.a)(a,2),o=r[0],s=r[1];return c.a.createElement("section",{id:"project-list",className:"p-3 bg-white rounded bottom-shadow","data-aos":"fade-up"},c.a.createElement(ne.a,{noGutters:!0},c.a.createElement("h1",{className:"my-auto section-title"},"Projects"),c.a.createElement(le.a,{onClick:function(){return s(!0)},variant:"dark-purple",className:"ml-auto"},"create a project")),c.a.createElement(Me,{showForm:o,handleCloseForm:function(){return s(!1)}}),c.a.createElement("hr",{className:"w-100"}),c.a.createElement(ne.a,{noGutters:!0},t.length?t.map((function(e){return c.a.createElement(ce.a,{key:e._id,xs:12,sm:6,md:4,className:"mb-2 p-2"},c.a.createElement(we,{project:e}))})):c.a.createElement("p",{className:"text-muted text-center mx-auto"},"you currently have no projects . start by creating one")))}var Pe=function(e){function t(){return Object(w.a)(this,t),Object(M.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return c.a.createElement(Ce,null,c.a.createElement(Ne,{projectList:this.props.projectList}),c.a.createElement(xe,{projectList:this.props.projectList}))}}]),t}(n.Component),_e=Object(s.b)((function(e){return{projectList:e.user.projectList||[],userID:e.user._id}}))(Pe);function De(){return c.a.createElement("div",{className:"gloader"},c.a.createElement("svg",{viewBox:"0 0 150 33.2",width:"180",height:"150"},c.a.createElement("circle",{className:"blue",cx:"16.1",cy:"16.6",r:"16.1",fill:"#527abd"}),c.a.createElement("circle",{className:"red",cx:"55.2",cy:"16.6",r:"16.1",fill:"#de4431"}),c.a.createElement("circle",{className:"yellow",cx:"94.3",cy:"16.6",r:"16.1",fill:"#f4b61a"}),c.a.createElement("circle",{className:"green",cx:"133.4",cy:"16.6",r:"16.1",fill:"#009e52"})))}function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=Object(s.b)((function(e){return{project:qe({},e.project,{todos:Object(d.a)(e.project.todos)}),user:e.user}}),(function(e){return{updateProject:function(t){return e(Ie(t))}}}))((function(e){var t=e.showForm,a=e.handleCloseForm,r=e.project,o=e.updateProject,s=e.user,l=Object(n.useState)(""),i=Object(R.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),A=Object(R.a)(d,2),p=A[0],g=A[1];return c.a.createElement(ke.a,{show:t,onHide:a,dialogClassName:"modal-40w",className:"project-form"},c.a.createElement(ke.a.Header,{closeButton:!0,className:"project-header"},c.a.createElement(ke.a.Title,null,"Add Checklist")),c.a.createElement(oe.a,{onSubmit:function(e){e.preventDefault();var t={title:u,description:p,created_by:{_id:s._id,username:s.username}};r.todos.unshift(t),o(r),m(""),g(""),a()}},c.a.createElement(ke.a.Body,null,c.a.createElement(oe.a.Group,{controlId:"projectName"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Title"),c.a.createElement(oe.a.Control,{className:"form-field todo-field",type:"text",placeholder:"Name Your todo list",value:u,onChange:function(e){return m(e.target.value)},required:!0})),c.a.createElement(oe.a.Group,{controlId:"projectName"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Description"),c.a.createElement(oe.a.Control,{className:"form-field todo-field",type:"text",placeholder:"Add a description",value:p,onChange:function(e){return g(e.target.value)}}),"/>")),c.a.createElement(ke.a.Footer,null,c.a.createElement(le.a,{variant:"secondary",onClick:function(){m(""),g(""),a()},id:"close",className:"hvr-shadow"},"Close"),c.a.createElement(le.a,{variant:"primary",id:"save",className:"hvr-shadow",type:"submit"},"Save"))))}));function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe=Object(s.b)((function(e){return{project:Ke({},e.project,{messages:Object(d.a)(e.project.messages)}),user:e.user}}),(function(e){return{updateProject:function(t){return e(Ie(t))}}}))((function(e){var t=e.showForm,a=e.handleCloseForm,r=e.project,o=e.user,s=e.updateProject,l=Object(n.useState)(""),i=Object(R.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),A=Object(R.a)(d,2),p=A[0],g=A[1];return c.a.createElement(ke.a,{show:t,onHide:a,dialogClassName:"modal-40w","aria-labelledby":"contained-modal-title-vcenter",className:"project-form"},c.a.createElement(ke.a.Header,{closeButton:!0,className:"project-header"},c.a.createElement(ke.a.Title,null,"Add a message")),c.a.createElement(oe.a,{onSubmit:function(e){console.log("message on submit"),e.preventDefault();var t={title:u,text:p,user:{_id:o._id,username:o.username}};r.messages.unshift(t),s(r),m(""),g(""),a()}},c.a.createElement(ke.a.Body,null,c.a.createElement(oe.a.Group,{controlId:"projectName"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Title"),c.a.createElement(oe.a.Control,{className:"form-field todo-field",type:"text",placeholder:"Message Title",value:u,required:!0,onChange:function(e){return m(e.target.value)}})),c.a.createElement(oe.a.Group,{controlId:"projectName"},c.a.createElement(oe.a.Label,{className:"form-labels"},"Message"),c.a.createElement(oe.a.Control,{className:"form-field todo-field",type:"text",placeholder:"Add a message",value:p,required:!0,onChange:function(e){return g(e.target.value)}}))),c.a.createElement(ke.a.Footer,null,c.a.createElement(le.a,{variant:"secondary",onClick:function(){m(""),g(""),a()},id:"close",className:"hvr-shadow"},"Close"),c.a.createElement(le.a,{variant:"primary",id:"save",className:"hvr-shadow",type:"submit"},"Save"))))}));a(216);function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fe(e){var t=e.project,a=e.usersList,r=e.updateProject,o=e.deleteProject,s=e.history,l=e.isAdmin,i=Object(n.useState)(!1),u=Object(R.a)(i,2),m=u[0],A=u[1],p=Object(n.useState)(!1),g=Object(R.a)(p,2),E=g[0],f=g[1],b=Object(n.useState)(t.team),h=Object(R.a)(b,2),v=h[0],j=h[1],y=a.filter((function(e){return!v.find((function(t){return t._id===e._id}))})),O=t.team.find((function(e){return e._id===t.admin})),C=Object(n.useState)(!1),T=Object(R.a)(C,2),N=T[0],S=T[1],I=Object(n.useState)(t.title),w=Object(R.a)(I,2),k=w[0],M=w[1],x=Object(n.useState)(!1),P=Object(R.a)(x,2),_=P[0],D=P[1],L=Object(n.useState)(t.description),q=Object(R.a)(L,2),U=q[0],K=q[1],X=Object(n.useState)(!1),V=Object(R.a)(X,2),B=V[0],F=V[1],z=Object(n.useState)(""),H=Object(R.a)(z,2),J=H[0],W=H[1],G=Object(n.useState)(!1),Q=Object(R.a)(G,2),Y=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(R.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)(!1),ne=Object(R.a)(re,2),ce=ne[0],oe=ne[1];return c.a.createElement("main",{className:"main-project",onClick:function(){!0===Y&&Z(!1)}},c.a.createElement("section",{className:"sect-project"},c.a.createElement("div",{className:"sect-project-header"},t.completed?c.a.createElement("div",{className:"sect-project-completed"}):c.a.createElement("div",null),l&&c.a.createElement("div",{className:"sect-project-opts-wraper",onClick:function(){Z(!Y)}},c.a.createElement("div",{className:"sect-project-btn-opts"}),c.a.createElement("div",{className:"sect-project-opts ".concat(!Y&&"opts-hide")},c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){var e=Be({},t,{completed:!t.completed,date_completed:new Date});r(e)}},"Mark as Complete"),c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){ae(!te)}},"Edit"),c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){oe(!0)}},"Delete")))),c.a.createElement("div",{className:"sect-project-title"},c.a.createElement("h1",null,k),te&&!_&&c.a.createElement("button",{className:"btn-edit",onClick:function(){D(!0)}},"Edit")),_&&c.a.createElement("form",{className:"sect-project-form-title-update",onSubmit:function(e){e.preventDefault();var a=Be({},t,{title:k});r(a),D(!1)}},"sect-project-message-item",c.a.createElement("input",{className:"input-text",type:"text",value:k,onChange:function(e){return M(e.target.value)},required:!0,autoFocus:!0}),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){M(t.title),D(!1)}}))),c.a.createElement("div",{className:"sect-project-creator"},"Created by ",O.username," on"," ",new Date(t.date_create).toLocaleString()),c.a.createElement("div",{className:"sect-project-description"},c.a.createElement("div",{className:"sect-project-description-wraper"},!B&&c.a.createElement("p",null,t.description),te&&!B&&c.a.createElement("button",{className:"btn-edit",onClick:function(){F(!0)}},"Edit")),B&&c.a.createElement("form",{className:"sect-project-form-description",onSubmit:function(e){e.preventDefault();var a=Be({},t,{description:U});r(a),F(!1)}},c.a.createElement("textarea",{value:U,onChange:function(e){return K(e.target.value)},required:!0}),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){K(t.description),F(!1)}})))),c.a.createElement("div",{className:"sect-project-team-title"},"Team members:"),c.a.createElement("div",{className:"sect-project-team"},v.map((function(e){return c.a.createElement("div",{className:"team_item",key:e._id},c.a.createElement("span",null,e.username),N&&e._id!==t.admin&&c.a.createElement("span",{className:"team-item-delete",id:e._id,onClick:function(e){var t=v.find((function(t){return t._id===e.target.id}));j(v.filter((function(t){return t._id!==e.target.id}))),y=[].concat(Object(d.a)(y),[t])}},"x"))})),te&&!N&&c.a.createElement("button",{className:"btn-edit",onClick:function(){return S(!0)}},"add/remove people")),N&&c.a.createElement("form",{className:"sect-project-form-team",onSubmit:function(){var e=Be({},t,{team:v});r(e),S(!1)}},c.a.createElement("input",{list:"list-users",onChange:function(e){console.log("----------onchange---------");var t=y.find((function(t){return t._id===e.target.value}));y=y.filter((function(t){return t._id!==e.target.value})),e.target.value="",t&&j([].concat(Object(d.a)(v),[t]))}}),c.a.createElement("datalist",{id:"list-users"},y.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.username)}))),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"Cancel",onClick:function(){var e=t.team;j(e),y=a.filter((function(t){return!e.find((function(e){return e._id===t._id}))})),S(!1)}}))),t.completed&&c.a.createElement("div",null,"Project completed on:"," ",new Date(t.date_completed).toLocaleString()),ce&&c.a.createElement("form",{className:"sect-project-form-delete",onSubmit:function(e){e.preventDefault(),o(t._id),s.push("/dashboard")}},c.a.createElement("input",{type:"text",value:J,onChange:function(e){return W(e.target.value)},placeholder:"Project Title"}),c.a.createElement("input",{className:"btn-save",type:"submit",value:"Delete",disabled:t.title!==J,style:t.title===J?{background:"red"}:{}}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){W(""),oe(!1)}}))),c.a.createElement("section",{className:"sect-project-todos"},c.a.createElement("h2",{className:"sect-title"},"Todos"),!t.completed&&c.a.createElement("div",{className:"sect-project-btn-add",onClick:function(){A(!0)}},"+"),t.todos.map((function(e){return c.a.createElement("div",{className:"sect-project-todo-item",key:e._id,onClick:function(){s.push("/todo/".concat(e._id))}},c.a.createElement("h3",null,e.title),c.a.createElement("p",null,e.description),e.completed&&c.a.createElement("div",null,"Completed"))}))),c.a.createElement("section",{className:"sect-project-messages"},c.a.createElement("h2",{className:"sect-title"},"Discussion"),c.a.createElement("div",{className:"sect-project-btn-add",onClick:function(){f(!0)}},"+"),t.messages.map((function(e){return c.a.createElement("div",{className:"sect-project-message-item",key:e._id},c.a.createElement("h2",null,e.user.username),c.a.createElement("h3",null,e.title),c.a.createElement("p",null,e.text),c.a.createElement("p",null,new Date(e.date_create).toLocaleString()))}))),c.a.createElement(Re,{showForm:m,handleCloseForm:function(){return A(!1)}}),c.a.createElement(Xe,{showForm:E,handleCloseForm:function(){return f(!1)}}))}var ze=Object(s.b)((function(e){return{project:e.project,usersList:e.usersList,isAdmin:e.project&&e.project.admin.toString()===e.user._id.toString()}}),(function(e){return{updateProject:function(t){return e(Ie(t))},deleteProject:function(t){return e((a=t,function(e,t){y.a.delete("/project/".concat(a),{headers:{Authorization:"Bearer "+t().authToken}}).then((function(t){e({type:"DELETE_PROJECT",payload:null}),e({type:"UPDATE_USER",payload:{projectList:t.data.projectList}})})).catch((function(t){t.response?401!==t.response.status&&e(pe({statusCode:t.response.status})):e(pe({requestTimeout:"ECONNABORTED"===t.code}))}))}));var a}}}))(Object(N.g)((function(e){return e.project?c.a.createElement(Fe,e):c.a.createElement(De,null)})));a(217);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=Object(s.b)((function(e,t){var a=t.match.params.id;return{project:e.project,todo:e.project&&e.project.todos.find((function(e){return e._id===a})),userId:e.user._id,username:e.user.username}}),(function(e){return{updateProject:function(t){return e(Ie(t))}}}))(Object(N.g)((function(e){var t=e.project,a=e.updateProject,r=e.todo,o=e.userId,s=e.username,l=e.history,i=o===t.admin,u=o===r.created_by._id,m=r.assigned_users.find((function(e){return e._id===o})),A=Object(n.useState)(r.title),p=Object(R.a)(A,2),g=p[0],E=p[1],f=Object(n.useState)(!1),b=Object(R.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(r.date_due),y=Object(R.a)(j,2),O=y[0],C=y[1],N=Object(n.useState)(!1),S=Object(R.a)(N,2),I=S[0],w=S[1],k=Object(n.useState)(r.description),M=Object(R.a)(k,2),x=M[0],P=M[1],_=Object(n.useState)(!1),D=Object(R.a)(_,2),L=D[0],q=D[1],U=t.team,K=Object(n.useState)(r.assigned_users),X=Object(R.a)(K,2),V=X[0],B=X[1],F=U.filter((function(e){return!V.find((function(t){return t._id===e._id}))})),z=Object(n.useState)(!1),H=Object(R.a)(z,2),J=H[0],W=H[1],G=Object(n.useState)(""),Q=Object(R.a)(G,2),Y=Q[0],Z=Q[1],$=Object(n.useState)(""),ee=Object(R.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)(""),ne=Object(R.a)(re,2),ce=ne[0],oe=ne[1],se=Object(n.useState)(!1),le=Object(R.a)(se,2),ie=le[0],ue=le[1],me=Object(n.useState)(!1),de=Object(R.a)(me,2),Ae=de[0],pe=de[1],ge=Object(n.useState)(!1),Ee=Object(R.a)(ge,2),fe=Ee[0],be=Ee[1],he=Object(n.useState)(!1),ve=Object(R.a)(he,2),je=ve[0],ye=ve[1];return c.a.createElement("main",{className:"todo-page-main",onClick:function(){!0===Ae&&pe(!1)}},c.a.createElement("section",{className:"sect-todo"},c.a.createElement(T.b,{to:"/project/".concat(t._id)},c.a.createElement("div",{className:"link-project-title"},t.title,"-Todo")),c.a.createElement("div",{className:"sect-project-header"},r.completed?c.a.createElement("div",{className:"sect-project-completed"}):c.a.createElement("div",null),(i||u)&&c.a.createElement("div",{className:"sect-project-opts-wraper",onClick:function(){pe(!Ae)}},c.a.createElement("div",{className:"sect-project-btn-opts"}),c.a.createElement("div",{className:"sect-project-opts ".concat(!Ae&&"opts-hide")},c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){var e=r._id,n=t.todos.map((function(t){return t._id===e&&(t.completed=!t.completed,t.completed_by={_id:o,username:s},t.date_completed=new Date,console.log({todo:t})),t})),c=Je({},t,{todos:n});a(c)}},"Mark as Complete"),c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){be(!fe)}},"Edit"),c.a.createElement("div",{className:"sect-project-opts-item",onClick:function(){ye(!0)}},"Delete")))),c.a.createElement("div",{className:"sect-project-title"},c.a.createElement("h1",null,r.title),fe&&!h&&c.a.createElement("button",{className:"btn-edit",onClick:function(){v(!0)}},"Edit")),h&&c.a.createElement("form",{className:"sect-project-form-title-update",onSubmit:function(e){e.preventDefault();var n=r._id,c=t.todos.map((function(e){return e._id===n&&(e.title=g),e})),o=Je({},t,{todos:c});a(o),v(!1)}},c.a.createElement("input",{className:"input-text",type:"text",value:g,onChange:function(e){return E(e.target.value)},required:!0,autoFocus:!0}),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){E(t.title),v(!1)}}))),c.a.createElement("div",{className:"sect-project-creator"},"Created by ",s," on ",new Date(r.date_create).toLocaleString()),c.a.createElement("div",{className:"sect-project-description"},c.a.createElement("div",{className:"sect-project-description-wraper"},!L&&c.a.createElement("p",null,r.description),fe&&!L&&c.a.createElement("button",{className:"btn-edit",onClick:function(){q(!0)}},"Edit")),L&&c.a.createElement("form",{className:"sect-project-form-description",onSubmit:function(e){e.preventDefault();var n=r._id,c=t.todos.map((function(e){return e._id===n&&(e.description=x),e})),o=Je({},t,{todos:c});a(o),q(!1)}},c.a.createElement("textarea",{value:x,onChange:function(e){return P(e.target.value)},required:!0}),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){P(r.description),q(!1)}})))),c.a.createElement("div",{className:"sect-project-title"},c.a.createElement("span",null,"Date Due: "),c.a.createElement("span",{className:"text"},O&&new Date(O).toLocaleDateString()),fe&&!h&&c.a.createElement("button",{className:"btn-edit",onClick:function(){w(!0)}},"Edit")),I&&c.a.createElement("form",{className:"sect-project-form-title-update",onSubmit:function(e){e.preventDefault();var n=r._id,c=t.todos.map((function(e){return e._id===n&&(e.date_due=O),e})),o=Je({},t,{todos:c});a(o),w(!1)}},c.a.createElement("input",{className:"text",type:"date",value:O,onChange:function(e){return C(e.target.value)},required:!0}),c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"Cancel",onClick:function(){C(r.date_due),w(!1)}})),c.a.createElement("div",{className:"sect-project-team-title"},"Assigned users:"),c.a.createElement("div",{className:"sect-project-team"},V.map((function(e){return c.a.createElement("div",{className:"team_item",key:e._id},c.a.createElement("span",null,e.username),J&&c.a.createElement("span",{className:"team-item-delete",id:e._id,onClick:function(e){var t=V.find((function(t){return t._id===e.target.id}));B(V.filter((function(t){return t._id!==e.target.id}))),F=[].concat(Object(d.a)(U),[t])}},"x"))})),fe&&!J&&c.a.createElement("button",{className:"btn-edit",onClick:function(){return W(!0)}},"add/remove people")),J&&c.a.createElement("form",{className:"sect-project-form-team",onSubmit:function(e){e.preventDefault();var n=r._id,c=t.todos.map((function(e){return e._id===n&&(e.assigned_users=Object(d.a)(V)),e})),o=Je({},t,{todos:c});a(o),W(!1)}},c.a.createElement("input",{list:"list-users",autoFocus:!0,onChange:function(e){console.log("----------onchange---------");var t=U.find((function(t){return t._id===e.target.value}));F=F.filter((function(t){return t._id!==e.target.value})),e.target.value="",t&&B([].concat(Object(d.a)(V),[t]))}}),c.a.createElement("datalist",{id:"list-users"},F.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.username)}))),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"Cancel",onClick:function(){console.log("----------cancel---------");var e=r.assigned_users;B(e),console.log("assigned_users =",r.assigned_users),F=U.filter((function(t){return!e.find((function(e){return e._id===t._id}))})),W(!1)}}))),r.completed&&c.a.createElement("div",null,"Closed by: ",r.completed_by.username," on"," ",r.date_completed&&new Date(r.date_completed).toLocaleString()),je&&c.a.createElement("form",{className:"sect-project-form-delete",onSubmit:function(){var e=r._id;t.todos=t.todos.filter((function(t){return t._id!==e})),a(t),l.push("/project/".concat(t._id))}},c.a.createElement("input",{type:"text",value:Y,onChange:function(e){return Z(e.target.value)},placeholder:"Todo Title"}),c.a.createElement("input",{className:"btn-save",type:"submit",value:"Delete",disabled:r.title!==Y,style:r.title===Y?{background:"red"}:{}}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"cancel",onClick:function(){Z(""),ye(!1)}}))),c.a.createElement("section",{className:"sect-todo-messages"},c.a.createElement("div",null,c.a.createElement("div",{style:{borderBottom:"thin solid",marginBottom:"1em"}},"Messages (",r.messages.length,"):"),!r.completed&&(i||m||u)&&c.a.createElement("div",{className:"sect-project-btn-add",onClick:function(){ue(!0)}},"+"),r.messages.map((function(e){return c.a.createElement("div",{key:e._id,className:"sect-project-message-item"},c.a.createElement("div",{className:"message-top"},c.a.createElement("div",{className:"message-username"},e.user.username),c.a.createElement("div",null,new Date(e.date_create).toLocaleString())),c.a.createElement("div",{className:"message-title"},e.title),c.a.createElement("p",{className:"message-text"},e.text))}))),ie&&c.a.createElement("form",{className:"sect-project-form-description",onSubmit:function(e){if(e.preventDefault(),ce){var n=r._id,c={title:te,text:ce,user:{_id:o,username:s}},l=t.todos.map((function(e){return e._id===n&&e.messages.push(c),e})),i=Je({},t,{todos:l});oe(""),ae(""),a(i),ue(!1)}}},c.a.createElement("input",{type:"text",required:!0,placeholder:"Title",value:te,onChange:function(e){ae(e.target.value)}}),c.a.createElement("textarea",{value:ce,onChange:function(e){oe(e.target.value)}}),c.a.createElement("div",{className:"btns-update-wraper"},c.a.createElement("input",{className:"btn-save",type:"submit",value:"Save"}),c.a.createElement("input",{className:"btn-cancel",type:"button",value:"close",onClick:function(){oe(""),ae(""),ue(!1)}}),"message-container"))))}))),Ge=a(130);function Qe(e){if(!e||"object"!==typeof e)throw Error("error must be an object containing  0 or more of these properties :\n\tmessage : string\n\tstatusCode : int\n\trequestTimeout : boolean");return(e.statusCode?e.statusCode+" | ":"")+(e.message||Ge[e.statusCode]||e.requestTimeout&&"request timeout ! try refreshing the page"||"something went wrong ! try refreshing the page")}function Ye(e){var t=e.error;return c.a.createElement("h1",{id:"error-page-message",className:"m-auto p-4 text-light rounded-lg"},Qe(t))}var Ze=a(227),$e=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(M.a)(this,Object(x.a)(t).call(this,e))).setState_resetTimeout=function(e){return a.setState({show:e,timeoutId:e?null:setTimeout(a.props.onClose,500)})},a.debounced_onClose=function(){return a.setState_resetTimeout(!1)},a.state={show:!!a.props.error,timeoutId:null},a}return Object(_.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){null!==this.props.error&&this.props.error!==e.error&&(clearTimeout(this.state.timeoutId),this.setState_resetTimeout(!0))}},{key:"render",value:function(){return this.props.error?c.a.createElement(Ze.a,{className:"p-3 bg-danger text-light text-center m-2 fixed-bottom-right",show:this.state.show,autohide:!0,delay:this.props.delay,onClose:this.debounced_onClose},Qe(this.props.error)):null}}]),t}(n.Component);a(218);var et=Object(s.b)((function(e){return{user:e.user,messages:e.chat.messages,userList:e.chat.userList||[],counter:e.chat.newMessagesCounter||{},isTyping:e.chat.isTyping||""}}))((function(e){var t=e.user,a=e.messages,r=void 0===a?[]:a,o=e.userList,s=void 0===o?[]:o,l=e.counter,i=e.isTyping,u=e.dispatch,m=t.projectList,d=Object(n.useState)(""),A=Object(R.a)(d,2),p=A[0],g=A[1],E=Object(n.useState)(!1),f=Object(R.a)(E,2),b=f[0],h=f[1],v=Object(n.useState)(),j=Object(R.a)(v,2),y=j[0],O=j[1],C=Object(n.useState)(m.length?m[0].title:""),T=Object(R.a)(C,2),N=T[0],S=T[1],I=Object(n.useState)(m.length?m[0]:""),w=Object(R.a)(I,2),k=w[0],M=w[1],x=Object(n.useRef)();return Object(n.useEffect)((function(){x.current.scrollTop=x.current.scrollHeight}),[r,k]),c.a.createElement("main",{className:"chat-main-container"},c.a.createElement("div",{className:"chat-container"},c.a.createElement("div",{className:"chat-left"},c.a.createElement("div",{className:"left-title"},"Rooms"),c.a.createElement("div",{className:"list-wrapper"},c.a.createElement("ul",null,m.map((function(e){return c.a.createElement("li",{className:e._id===k._id?"active-room":"",key:e._id,id:e._id,onClick:function(){S(e.title),M(e),u(J(k._id))}},c.a.createElement("span",{className:"room-name"},"# ".concat(e.title)),e.title!==N&&l[e._id]>0&&c.a.createElement("span",{className:"msg-counter"},l[e._id]))}))))),c.a.createElement("div",{className:"chat-middle"},c.a.createElement("div",{className:"chat-title"},"# ",N),c.a.createElement("div",{className:"chat-display",ref:x},c.a.createElement("ul",null,r[k._id]&&r[k._id].map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("div",null,c.a.createElement("span",{className:"chat-msg-username"},e.username,":"),c.a.createElement("span",{className:"chat-msg-date"},new Date(e.date).toLocaleString())),c.a.createElement("p",null,e.message))})))),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p&&(!function(e){var t=e.room,a=e.username,r=e.message,n=a+Date.now();H.emit(t,{username:a,message:r,room:t,msgID:n})}({room:k._id,username:t.username,message:p}),g(""),u(J(k._id)))}},c.a.createElement("input",{className:"input-chat-message",type:"text",value:p,onChange:function(e){g(e.target.value),clearTimeout(y),b||(h(!0),W(t.username));var a=setTimeout((function(){h(!1),W("")}),2e3);O(a)}}),c.a.createElement("input",{className:"btn-chat-send",type:"submit",value:""}))),c.a.createElement("div",{className:"chat-right"},c.a.createElement("div",{className:"right-title"},"Online...!"),c.a.createElement("div",{className:"list-wrapper"},c.a.createElement("ul",null,s.map((function(e,t){return c.a.createElement("li",{key:t},e.username," ",i===e.username?"is typing...":"")})))))))}));var tt=Object(s.b)((function(e){return{user:e.user,error:e.error}}),(function(e){return{configSocketIo:function(){return e((function(e,t){var a=t().user.projectList;H.on("users",(function(t){e({type:"SET_CHAT_USERS",userList:t})})),H.on("isTyping",(function(t){e({type:"IS_TYPING",isTyping:t})})),a.forEach((function(a){H.on(a._id,(function(n){var c=t().chat.messages||{},o=t().chat.newMessagesCounter||{};if(c[a._id]||(c[a._id]=[]),!c[a._id].find((function(e){return e._id===n._id}))){var s=[].concat(Object(d.a)(c[a._id]),[n]),l=o[a._id]?o[a._id]+1:1;e({type:"UPDATE_MESSAGES_LIST",messages:z({},c,Object(r.a)({},a._id,s))}),e({type:"UPDATE_MESSAGES_COUNTER",updateCounter:Object(r.a)({},a._id,l)})}}))}));var n=a.map((function(e){return e._id}));H.emit("create",n),H.emit("login",t().user.username),y.a.get("/messages?rooms=".concat(n)).then((function(t){var a=t.data.messagesList;e({type:"UPDATE_MESSAGES_LIST",messages:a})})).catch((function(e){console.log("error =",e)}))}))},resetError:S}}))((function(e){var t=e.user,a=e.error,r=e.resetError,o=e.configSocketIo;return Object(n.useEffect)((function(){t&&o()}),[o,t]),c.a.createElement(T.a,{basename:"/v11-bears-team-10"},c.a.createElement($e,{error:a,onClose:r,delay:3e3}),c.a.createElement(te,{user:t}),c.a.createElement(N.d,null,c.a.createElement(N.b,{path:"/",exact:!0,component:ae}),c.a.createElement(I,{path:"/project/:id",redirectIf:!t,redirectTo:"/login",component:ze}),c.a.createElement(I,{path:"/todo/:id",redirectIf:!t,redirectTo:"/login",component:We}),c.a.createElement(I,{path:"/dashboard",redirectIf:!t,redirectTo:"/login",component:_e}),c.a.createElement(I,{path:"/chat",redirectIf:!t,redirectTo:"/login",component:et}),c.a.createElement(I,{path:"/login",redirectIf:t,redirectTo:"/dashboard",component:be}),c.a.createElement(I,{path:"/register",redirectIf:t,redirectTo:"/dashboard",component:ye}),c.a.createElement(N.b,{render:function(){return c.a.createElement(Ye,{error:{statusCode:404}})}})),c.a.createElement(Oe,null))}));function at(e){var t=e.text;return c.a.createElement(c.a.Fragment,null,c.a.createElement(U.a,{animation:"border",variant:"primary",className:"mt-auto mb-5 mx-auto  big-spinner",role:"status"},c.a.createElement("span",{className:"sr-only"},t)),c.a.createElement("h2",{className:"mb-auto mt-5 mx-auto text-secondary"},t))}function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}v.a.init(),y.a.defaults.headers.common["Content-Type"]="application/json",y.a.defaults.baseURL="https://v11-bears-team-10.herokuapp.com/v1",y.a.defaults.timeout=parseInt("10000");var nt={user:null,authToken:null,error:null,project:null},ct=function(e){return Object(o.render)(c.a.createElement(s.a,{store:b(e)},c.a.createElement(tt,null)),document.getElementById("root"))},ot=function(){if(!ue)return{};for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(!me(t))throw Error("parameters passed to getLocalStorageItems must be strings");for(var r={},n=0,c=t;n<c.length;n++){var o=c[n];r[o]=localStorage.getItem(o)}return r}("user_id","authToken"),st=ot.user_id,lt=ot.authToken;st&&lt?(Object(o.render)(c.a.createElement(at,{text:"Authenticating..."}),document.getElementById("root")),y.a.get("/users/".concat(st),{headers:{Authorization:"Bearer "+lt}}).then((function(e){y.a.defaults.headers.common.Authorization="Bearer "+lt,ct(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rt(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},nt,{authToken:lt,user:e.data.user}))})).catch((function(e){var t;e.response?(!function(){if(!ue)return!1;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(!me(t))throw Error("parameters passed to removeLocalStorageItems must be strings");var r=!0,n=!1,c=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;localStorage.removeItem(l)}}catch(i){n=!0,c=i}finally{try{r||null==s.return||s.return()}finally{if(n)throw c}}}("authToken","user_id"),ct(nt)):(t={requestTimeout:"ECONNABORTED"===e.code},Object(o.render)(c.a.createElement(c.a.Fragment,null,c.a.createElement(Ye,{error:t}),c.a.createElement(Oe,null)),document.getElementById("root")))}))):ct(nt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[132,1,2]]]);
//# sourceMappingURL=main.762a71fd.chunk.js.map